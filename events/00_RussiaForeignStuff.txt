####### Modder : Nijato ######

###########################
# Russia Events
###########################

add_namespace = rusfor

#1-... = events
#1000-1... = Foreign politics focuses events

#Events
###########################

country_event = { #Unlock focus tree
	id = rusfor.1
	title = rusfor.1.t
	desc = rusfor.1.d
	picture = GFX_petain_NFA
	
	fire_only_once = yes
	
	trigger = { tag = RUS date > 1937.04.08 has_war = no is_puppet = no NOT = { country_exists = SOV country_exists = SIB } }
	
	option = {
		name = rusfor.1.a
		custom_effect_tooltip = unlock_diplomatic_tooltip
		hidden_effect = { set_country_flag = unlock_diplomatic }
	}
	

}

#Foreign Politics Focuses Events
###########################

country_event = { #Germany's Reaction on Russian plans in Caucasus
	id = rusfor.1000
	title = rusfor.1000.t
	desc = rusfor.1000.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1000.a #Demand that Russia respects the Brest-Litovsk treaty!
		trigger = { NOT = { has_war_with = FRA has_war_with = JAP has_war_with = CAN is_in_faction_with = RUS } }
		ai_chance = { factor = 30 }
		give_guarantee = DKB
		give_guarantee = AZB
		add_opinion_modifier = { target = RUS modifier = GER_respect_brest_litovsk1 }
		add_opinion_modifier = { target = DKB modifier = GER_respect_brest_litovsk2 }
		add_opinion_modifier = { target = GEO modifier = GER_respect_brest_litovsk2 }
		add_opinion_modifier = { target = TUR modifier = GER_respect_brest_litovsk2 }
		add_opinion_modifier = { target = AZB modifier = GER_respect_brest_litovsk2 }
		RUS = { country_event = { id = rusfor.1005 days = 2 } }
	}
	
	option = {
		name = rusfor.1000.b #Threaten Russia and invite the endangered nations into Mitteleuropa!
		trigger = { country_exists = DKB is_in_faction_with = UKR is_in_faction_with = LIT is_in_faction_with = BAT DKB = { has_war = no is_puppet = no NOT = { is_in_faction_with = RUS is_in_faction_with = POL is_in_faction_with = TUR } } 
        OR = { is_in_faction_with = POL is_in_faction_with = WHR is_in_faction_with = GAL is_in_faction_with = DNF } #Must add Austria-Hungary
		NOT = { has_war_with = FRA has_war_with = JAP has_war_with = CAN is_in_faction_with = RUS } }
		ai_chance = { factor = 50 }
		add_political_power = -60
		give_guarantee = DKB
		give_guarantee = AZB
		add_opinion_modifier = { target = RUS modifier = GER_respect_brest_litovsk3 }
		add_opinion_modifier = { target = DKB modifier = GER_respect_brest_litovsk2 }
		add_opinion_modifier = { target = GEO modifier = GER_respect_brest_litovsk2 }
		add_opinion_modifier = { target = TUR modifier = GER_respect_brest_litovsk2 }
		add_opinion_modifier = { target = AZB modifier = GER_respect_brest_litovsk2 }
		DKB = { country_event = { id = rusfor.1001 } }
		RUS = { country_event = { id = rusfor.1005 days = 2 } }
	}
	
	option = {
		name = rusfor.1000.c #We don't care about the Caucasus.
		ai_chance = { factor = 20 }
        add_opinion_modifier = { target = RUS modifier = GER_dont_care_caucasus }
		#Should end guarantees but can't lol paradox fix your shit ^^
		set_country_flag = RUS_end_protect_caucasus_chain
	}

}

country_event = { #German Offer DKB
	id = rusfor.1001
	title = rusfor.1001.t
	desc = rusfor.1001.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1001.a #Accept their offer.
        ai_chance = { factor = 95 }
		add_opinion_modifier = { target = GER modifier = DKB_joined_mitteleuropa1 }
		every_country = { limit = { is_in_faction_with = GER } add_opinion_modifier = { modifier = DKB_joined_mitteleuropa2 } }
		GER = { country_event = { id = rusfor.1002 } }
		if = { limit = { AZB = { is_puppet = no has_war = no NOT = { is_in_faction_with = TUR is_in_faction_with = GEO is_in_faction_with = FRA is_in_faction_with = PER } } } AZB = { country_event = { id = rusfor.1003 } } }
		#Must do the same for MRNC
	}
	
	option = {
		name = rusfor.1001.b #lolno
        ai_chance = { factor = 5 }
		add_opinion_modifier = { target = GER modifier = DKB_NOT_joined_mitteleuropa }
	}

}

country_event = { #DKB accept
	id = rusfor.1002
	title = rusfor.1002.t
	desc = rusfor.1002.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1002.a #excellent
		add_opinion_modifier = { target = DKB modifier = DKB_joined_mitteleuropa3 }
		add_political_power = 60
		add_to_faction = DKB
	}

}

country_event = { #German Offer AZB
	id = rusfor.1003
	title = rusfor.1003.t
	desc = rusfor.1003.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1003.a #Accept their offer.
        ai_chance = { factor = 95 }
		add_opinion_modifier = { target = GER modifier = AZB_joined_mitteleuropa1 }
		every_country = { limit = { is_in_faction_with = GER } add_opinion_modifier = { modifier = AZB_joined_mitteleuropa2 } }
		GER = { country_event = { id = rusfor.1004 } }
	}
	
	option = {
		name = rusfor.1003.b #lolno
        ai_chance = { factor = 5 }
		add_opinion_modifier = { target = GER modifier = AZB_NOT_joined_mitteleuropa }
	}

}

country_event = { #AZB accept
	id = rusfor.1004
	title = rusfor.1004.t
	desc = rusfor.1004.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1004.a #excellent
		add_opinion_modifier = { target = AZB modifier = AZB_joined_mitteleuropa3 }
		add_political_power = 60
		add_to_faction = AZB
	}

}

country_event = { #Germans threaten russia
	id = rusfor.1005
	title = rusfor.1005.t
	desc = rusfor.1005.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1005.a #Who cares ?
        ai_chance = { factor = 50 }
        trigger = { NOT = { DKB = { is_in_faction_with = GER } } }
		add_opinion_modifier = { target = GER modifier = RUS_ignored_german_demands }
		GER = { country_event = { id = rusfor.1006 days = 1 } }
	}
	
	option = {
		name = rusfor.1005.b #focus on central asia instead
        ai_chance = { factor = 50 }
		add_opinion_modifier = { target = GER modifier = RUS_backed_down_caucasus }
		set_country_flag = RUS_end_protect_caucasus_chain
		set_country_flag = RUS_GER_blocks_caucasus
	}

}

country_event = { #Russia ignored demands
	id = rusfor.1006
	title = rusfor.1006.t
	desc = rusfor.1006.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1006.a #Cease all contacts between Mitteleuropa and Russia!
        ai_chance = { factor = 40 }
        add_opinion_modifier = { target = RUS modifier = GER_ceased_contacts_RUS }
		if = { limit = { is_in_faction_with = RUS } remove_from_faction = RUS }
		add_political_power = -40
		add_opinion_modifier = { target = RUS modifier = embargo }
		if = { limit = { BEL = { is_in_faction_with = GER } } BEL = { add_opinion_modifier = { target = RUS modifier = embargo } } }
		if = { limit = { WHR = { is_in_faction_with = GER } } WHR = { add_opinion_modifier = { target = RUS modifier = embargo } } }
		if = { limit = { BAT = { is_in_faction_with = GER } } BAT = { add_opinion_modifier = { target = RUS modifier = embargo } } }
		if = { limit = { UKR = { is_in_faction_with = GER } } UKR = { add_opinion_modifier = { target = RUS modifier = embargo } } }
		if = { limit = { MAF = { is_puppet_of = GER } } MAF = { add_opinion_modifier = { target = RUS modifier = embargo } } }
		if = { limit = { AOG = { is_puppet_of = GER } } AOG = { add_opinion_modifier = { target = RUS modifier = embargo } } }
		#Should end guarantees but can't lol paradox fix your shit ^^
		RUS = { country_event = { id = rusfor.1007 } }
		set_global_flag = RUS_GER_ceased_contacts
	}
	
	option = {
		name = rusfor.1006.b #Insolent brats, we will show you German might!
        ai_chance = { factor = 5 }
        add_political_power = -100
		add_opinion_modifier = { target = DKB modifier = GER_declared_war_RUS }
		add_opinion_modifier = { target = GEO modifier = GER_declared_war_RUS }
		add_opinion_modifier = { target = TUR modifier = GER_declared_war_RUS }
		add_opinion_modifier = { target = AZB modifier = GER_declared_war_RUS }
		add_opinion_modifier = { target = ARM modifier = GER_declared_war_RUS }
		declare_war_on = { target = RUS type = puppet_wargoal_focus }
		set_country_flag = RUS_end_protect_caucasus_chain
	}
	
	option = {
		name = rusfor.1006.c #Back down, we can not afford a conflict with Russia.
        ai_chance = { factor = 50 }
		trigger = { country_exists = FRA }
		add_political_power = -100
		#Should end guarantees but can't lol paradox fix your shit ^^
		add_opinion_modifier = { target = DKB modifier = GER_backed_down_caucasus2 }
		add_opinion_modifier = { target = GEO modifier = GER_backed_down_caucasus2 }
		add_opinion_modifier = { target = TUR modifier = GER_backed_down_caucasus2 }
		add_opinion_modifier = { target = AZB modifier = GER_backed_down_caucasus2 }
		add_opinion_modifier = { target = ARM modifier = GER_backed_down_caucasus2 }
		add_opinion_modifier = { target = RUS modifier = GER_backed_down_caucasus1 }
		set_country_flag = RUS_end_protect_caucasus_chain
	}

}

country_event = { #Mitteleuropa ceases all contacts with us RUS
	id = rusfor.1007
	title = rusfor.1007.t
	desc = rusfor.1007.d
	picture = GFX_petain_NFA
	
	is_triggered_only = yes
	
	option = {
		name = rusfor.1007.a #I WILL SURVIVE
		add_political_power = -100
		add_opinion_modifier = { target = GER modifier = GER_ceased_contacts_RUS2 }
		add_opinion_modifier = { target = BAT modifier = GER_ceased_contacts_RUS2 }
		add_ideas = rus_ceased_contacts_germany
		set_country_flag = RUS_end_protect_caucasus_chain
	}

}

country_event = { #Remove malus from ceased contacts
	id = rusfor.1008
	title = rusfor.1008.t
	desc = rusfor.1008.d
	picture = GFX_petain_NFA
	
	fire_only_once = yes
	
	trigger = { tag = RUS has_global_flag = RUS_GER_ceased_contacts OR = { NOT = { GER = { controls_state = 64 } } GER = { is_puppet = yes } } }
	
	mean_time_to_happen = { days = 30 } 
	
	option = {
		name = rusfor.1008.a
		remove_ideas = rus_ceased_contacts_germany
	}
	

}